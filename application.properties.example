# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/chat_api
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:password}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# MongoDB Configuration
spring.data.mongodb.uri=${MONGODB_URI:mongodb://admin:password@localhost:27017/chat_messages?authSource=admin}

# Redis Configuration
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:password}
spring.data.redis.timeout=2000ms

# JWT Configuration
jwt.secret=${JWT_SECRET:your-super-secret-jwt-key-change-this-in-production}
jwt.expiration=${JWT_EXPIRATION:86400000}
jwt.refresh.expiration=${JWT_REFRESH_EXPIRATION:604800000}

# Email Configuration
spring.mail.host=${EMAIL_HOST:smtp.gmail.com}
spring.mail.port=${EMAIL_PORT:587}
spring.mail.username=${EMAIL_USERNAME:}
spring.mail.password=${EMAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# File Upload Configuration
spring.servlet.multipart.max-file-size=${FILE_UPLOAD_MAX_SIZE:10MB}
spring.servlet.multipart.max-request-size=${FILE_UPLOAD_MAX_SIZE:10MB}
file.upload.path=${FILE_UPLOAD_PATH:/uploads}
file.upload.allowed-types=${ALLOWED_FILE_TYPES:image/jpeg,image/png,image/gif,application/pdf,text/plain}

# WebSocket Configuration
websocket.allowed-origins=${WEBSOCKET_ALLOWED_ORIGINS:*}
websocket.stomp-endpoint=${WEBSOCKET_STOMP_ENDPOINT:/ws}
websocket.app-destination-prefix=${WEBSOCKET_APP_DESTINATION_PREFIX:/app}
websocket.user-destination-prefix=${WEBSOCKET_USER_DESTINATION_PREFIX:/user}

# Kafka Configuration
spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
spring.kafka.consumer.group-id=${KAFKA_CONSUMER_GROUP_ID:chat-service}
spring.kafka.consumer.auto-offset-reset=${KAFKA_AUTO_OFFSET_RESET:earliest}
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer

# Service Configuration
server.port=${SERVER_PORT:8080}
spring.application.name=${SPRING_APPLICATION_NAME:chat-api-service}

# Actuator Configuration
management.endpoints.web.exposure.include=${ACTUATOR_ENABLED:health,info,metrics,prometheus}
management.endpoint.health.show-details=when-authorized
management.metrics.export.prometheus.enabled=${METRICS_ENABLED:true}

# Logging Configuration
logging.level.root=${LOG_LEVEL:INFO}
logging.level.vn.ttg.roadmap.chatapi=${LOG_LEVEL:DEBUG}
logging.file.name=${LOG_FILE_PATH:logs/chat-api.log}
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# CORS Configuration
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:3001}
cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS}
cors.allowed-headers=${CORS_ALLOWED_HEADERS:*}
cors.allow-credentials=${CORS_ALLOW_CREDENTIALS:true}

# Rate Limiting
rate.limit.enabled=${RATE_LIMIT_ENABLED:true}
rate.limit.requests-per-minute=${RATE_LIMIT_REQUESTS_PER_MINUTE:100}
rate.limit.burst-capacity=${RATE_LIMIT_BURST_CAPACITY:200}
